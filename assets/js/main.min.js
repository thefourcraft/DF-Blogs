(function(e){var b=e(window),f=e("head"),d=e("body");breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:["361px","480px"],xxsmall:[null,"360px"],"xlarge-to-max":"(min-width: 1681px)","small-to-xlarge":"(min-width: 481px) and (max-width: 1680px)"});b.on("load",function(){window.setTimeout(function(){d.removeClass("is-preload")},100)});var j;b.on("resize",function(){d.addClass("is-resizing");clearTimeout(j);j=setTimeout(function(){d.removeClass("is-resizing")},100)});if(!browser.canUse("object-fit")||browser.name=="safari"){e(".image.object").each(function(){var m=e(this),l=m.children("img");l.css("opacity","0");m.css("background-image",'url("'+l.attr("src")+'")').css("background-size",l.css("object-fit")?l.css("object-fit"):"cover").css("background-position",l.css("object-position")?l.css("object-position"):"center")})}var g=e("#sidebar"),k=g.children(".inner");breakpoints.on("<=large",function(){g.addClass("inactive")});breakpoints.on(">large",function(){g.removeClass("inactive")});if(browser.os=="android"&&browser.name=="chrome"){e("<style>#sidebar .inner::-webkit-scrollbar { display: none; }</style>").appendTo(f)}e('<a href="#sidebar" class="toggle">Toggle</a>').appendTo(g).on("click",function(l){l.preventDefault();l.stopPropagation();g.toggleClass("inactive")});g.on("click","a",function(m){if(breakpoints.active(">large")){return}var n=e(this),l=n.attr("href"),o=n.attr("target");m.preventDefault();m.stopPropagation();if(!l||l=="#"||l==""){return}g.addClass("inactive");setTimeout(function(){if(o=="_blank"){window.open(l)}else{window.location.href=l}},500)});g.on("click touchend touchstart touchmove",function(l){if(breakpoints.active(">large")){return}l.stopPropagation()});d.on("click touchend",function(l){if(breakpoints.active(">large")){return}g.addClass("inactive")});b.on("load.sidebar-lock",function(){var n,l,m;if(b.scrollTop()==1){b.scrollTop(0)}b.on("scroll.sidebar-lock",function(){var o,p;if(breakpoints.active("<=large")){k.data("locked",0).css("position","").css("top","");return}o=Math.max(n-l,0);p=Math.max(0,b.scrollTop()-o);if(k.data("locked")==1){if(p<=0){k.data("locked",0).css("position","").css("top","")}else{k.css("top",-1*o)}}else{if(p>0){k.data("locked",1).css("position","fixed").css("top",-1*o)}}}).on("resize.sidebar-lock",function(){l=b.height();n=k.outerHeight()+30;b.trigger("scroll.sidebar-lock")}).trigger("resize.sidebar-lock")});var a=e("#menu"),c=a.children("ul").find(".opener");c.each(function(){var l=e(this);l.on("click",function(m){m.preventDefault();c.not(l).removeClass("active");l.toggleClass("active");b.triggerHandler("resize.sidebar-lock")})})})(jQuery);(function(){let shareButton=document.querySelector(".js-post__share-button");let sharePopup=document.querySelector(".js-post__share-popup");if(shareButton){sharePopup.addEventListener("click",function(a){a.stopPropagation()});shareButton.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();sharePopup.classList.toggle("is-visible")});document.body.addEventListener("click",function(){sharePopup.classList.remove("is-visible")})}var c={Link:".js-share",Width:500,Height:500};var e=document.querySelectorAll(c.Link);for(var d=0;d<e.length;d++){e[d].onclick=b}function b(l){l=(l?l:window.event);var j=(l.target?l.target:l.srcElement);if(sharePopup){sharePopup.classList.remove("is-visible")}var g=Math.floor(((screen.availWidth||1024)-c.Width)/2),f=Math.floor(((screen.availHeight||700)-c.Height)/2);var k=j.href?j.href:j.parentNode.href;var a=window.open(k,"social","width="+c.Width+",height="+c.Height+",left="+g+",top="+f+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1");if(a){a.focus();if(l.preventDefault){l.preventDefault()}l.returnValue=false}return !!a}})();(function(){let wrappers=document.querySelectorAll(".post__video, .post__iframe");for(let i=0;i<wrappers.length;i++){let embed=wrappers[i].querySelector("iframe, embed, video, object");if(!embed){continue}if(embed.getAttribute("data-responsive")==="false"){continue}let w=embed.getAttribute("width");let h=embed.getAttribute("height");let ratio=false;if(!w||!h){continue}if(w.indexOf("%")>-1&&h.indexOf("%")>-1){w=parseFloat(w.replace("%",""));h=parseFloat(h.replace("%",""));ratio=h/w}else{if(w.indexOf("%")===-1&&h.indexOf("%")===-1){w=parseInt(w,10);h=parseInt(h,10);ratio=h/w}}if(ratio!==false){let ratioValue=(ratio*100)+"%";wrappers[i].setAttribute("style","--embed-aspect-ratio:"+ratioValue)}}})();